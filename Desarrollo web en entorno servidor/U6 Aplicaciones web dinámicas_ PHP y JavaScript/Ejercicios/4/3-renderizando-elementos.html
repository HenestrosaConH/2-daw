<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Renderizando elementos</title>
		<meta name="author" content="José Carlos López Henestrosa">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="./css/styles.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/default.min.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
	</head>
	<body>
		<!--[if lt IE 7]>
			<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
		<![endif]-->
		<main class="container">
			<h1><a href="https://reactjs.org/docs/rendering-elements.html" target="_blank" rel="noopener">Renderizando elementos</a> <a href="https://es.reactjs.org/docs/rendering-elements.html" target="_blank" rel="noopener">(español)</a></h1>
			<p>Los <strong>elementos</strong> son los bloques de construcción más pequeños de una aplicación en React. Describen lo que se quiere ver en la pantalla.</p>
			<pre><code>const element = &lt;h1&gt;Hello, world&lt;/h1&gt;;</code></pre>
			<p>Es importante destacar que estos elementos <strong>NO</strong> son elementos del DOM, sino objetos JavaScript. React DOM se encarga de actualizar el DOM para que se corresponda con los elementos de React que se quieran renderizar, actualizar o eliminar.</p>	
			<section id="renderizar-un-elemento-en-el-dom">
				<h2>Renderizar un elemento en el DOM</h2>
				<p>Para poder renderizar un elemento, es esencial tener un "punto de referencia" al que vincularle elementos y componentes. En React, esto recibe el nombre de <strong>nodo raíz</strong>.</p>
				<p>Las aplicaciones realizadas íntegramente en React suelen tener un solo nodo raíz en el DOM, mientras que aplicaciones existentes suelen tener varios nodos raíz.</p>
				<p>Para indicarle a React DOM cuál va a ser el nodo raíz, hacemos lo siguiente:</p>
				<pre>
					<code>
const root = ReactDOM.createRoot(
  document.getElementById('root')
);
const element = &lt;h1&gt;Hello, world&lt;/h1&gt;;
root.render(element);
					</code>
				</pre>
				<p>En el método <code>ReactDOM.createRoot()</code> pasamos el <var>id</var> del elemento que va a actuar de nodo raíz. Tras ello, creamos un elemento y lo vinculamos al nodo raíz con el método <var>render()</var>, al que le pasamos como parámetro el elemento que queremos mostrar por pantalla.</p>
			</section>
			<section>
				<h2>Actualizando el elemento renderizado</h2>
				<p>Los elementos en React son <strong>inmutables</strong>, por lo que sus atributos y sus contenidos no pueden ser modificados. Con lo que hemos visto hasta ahora, podemos hacer el siguiente <em>workaround</em>:</p>
				<pre>
					<code>
const root = ReactDOM.createRoot(
  document.getElementById('root')
);

function tick() {
  const element = (
    &lt;div&gt;
      &lt;h1&gt;Hello, world!&lt;/h1&gt;
      &lt;h2&gt;It is {new Date().toLocaleTimeString()}.&lt;/h2&gt;
    &lt;/div&gt;
  );
  root.render(element);
}

setInterval(tick, 1000);
					</code>
				</pre>
				<p><a href="https://codepen.io/gaearon/pen/gwoJZk?editors=1010" target="_blank" rel="noopener">Aquí</a> se puede ver un ejemplo en funcionamiento del bloque de código de arriba.</p>
			</section>
			<section id="react-solo-actualiza-lo-necesario">
				<h2>React solo actualiza lo necesario</h2>
				<p>Si tomamos como referencia el ejemplo del punto anterior, podríamos interpretar que, por cada segundo, se añade un elemento nuevo al nodo raíz. Esto no es así, ya que React DOM se encarga de comparar el <strong>DOM virtual</strong> (el que toma React DOM como referencia) y el DOM de la página renderizada por el navegador. Por ello, cuando se cambia el contenido del texto del elemento <var>h2</var>, ReactDOM detecta que el único cambio del DOM virtual respecto al DOM cargado es el texto y es lo único que actualiza en el DOM cargado, ya que el elemento sigue siendo el mismo.</p>
			</section>
		</main>
		<script>hljs.highlightAll();</script>
	</body>
</html>